<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Student Discount</title>
    <link rel="stylesheet" href="/input.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.theme.default.min.css"
    />
  </head>
  <body class="bg-white flex flex-col">
    <!-- navbar-start -->
    <nav class="bg-white   text-teal-800 sticky z-10 top-0 shadow-md ">
      <section class="bg-white flex   justify-center items-center   lg:container xl:container 2xl:container  lg:mx-auto xl:mx-auto 2xl:mx-auto sm:py-2 py-3   px-3">
        <div class="text-black flex justify-center font-extrabold text-lg text-center  items-center lg:text-2xl xl:text-2xl 2xl:text-2xl ">
          Student Discount
        </div>
        
      </section>
    </nav>
    <!-- navbar-end -->

    <main class="bg-white flex flex-col mt-9 lg:container xl:container 2xl:container  lg:mx-auto xl:mx-auto 2xl:mx-auto">

      <div class="flex flex-col justify-center items-center text-center">

        <!-- Heading  start  -->
         <h1 class="text-xl font-extrabold">
          <span class="text-orange-400">"</span>Your <span class="text-orange-400">Gateway</span> 
          to Amazing 
          Student <span class="text-orange-400">Deals</span>!<span class="text-orange-400">"</span>
         </h1>
         <p class="text-sm font-light "> Claim the Hottest Deals â€“ Before Someone Else Does!</p>
         <a href="https://chat.whatsapp.com/IEynF9RKuVAKZJNVsEb2gd" class="rounded-full bg-green-400  text-base  font-medium px-5 py-1 my-1">
          Join WhatsApp Group
         </a>
      </div>
      
       
      <!-- Banner -->

      <section
        class="home-banner  my-3 lg:px-3 xl:px-3 2xl:px-3 lg:hidden xl:hidden 2xl:hidden"
      >
        <div class="showcase">
          <div class="un-container">
            <div class="owl-carousel owl-theme">
              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="/images/ad.png"
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/Banner.png?alt=media&token=2df1d931-70a1-4f32-8a20-3a96f5546d4c&_gl=1*1xi7rq8*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU0NTgyMy4xMC4xLjE2ODU1NDU4NDIuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/engineering%20banner-3.png?alt=media&token=97bbb634-e8b0-4602-a463-b03ec79c6c19&_gl=1*14zgicp*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU1NTg3OC4xMi4xLjE2ODU1NTU5MjEuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/engineering%20banner-4.png?alt=media&token=14fbec4e-019c-416c-a4e0-33fa555a893b&_gl=1*gksvw8*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU1NTg3OC4xMi4xLjE2ODU1NTc3MDIuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->
            </div>
            <div class="owl-dots custom-dots"></div>
          </div>
        </div>
      </section>
      <!-- Banner-end -->
      <!-- Banner -->

      <section
        class="home-banner lg:px-3 xl:px-3 2xl:px-3 lg:mt-5 xl:mt-5 2xl:mt-5 sm:hidden md:hidden"
      >
        <div class="showcase">
          <div class="un-container">
            <div class="owl-carousel owl-theme">
              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/Untitled.png?alt=media&token=e7a5c17b-7963-4f86-9c5d-8f64d7472240&_gl=1*13o7qms*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTUyMDEyMi45LjEuMTY4NTUyMDE5NS4wLjAuMA.."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/Banner.png?alt=media&token=2df1d931-70a1-4f32-8a20-3a96f5546d4c&_gl=1*1xi7rq8*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU0NTgyMy4xMC4xLjE2ODU1NDU4NDIuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/engineering%20banner-3.png?alt=media&token=97bbb634-e8b0-4602-a463-b03ec79c6c19&_gl=1*14zgicp*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU1NTg3OC4xMi4xLjE2ODU1NTU5MjEuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->

              <!-- <div class="item px-2">
                <span class="cursor-pointer">
                  <img
                    class="rounded-md"
                    src="https://firebasestorage.googleapis.com/v0/b/shiksha-a2e99.appspot.com/o/engineering%20banner-4.png?alt=media&token=14fbec4e-019c-416c-a4e0-33fa555a893b&_gl=1*gksvw8*_ga*MTQ5Mzk3MzkyMS4xNjg0OTA3MTM2*_ga_CW55HF8NVT*MTY4NTU1NTg3OC4xMi4xLjE2ODU1NTc3MDIuMC4wLjA."
                    alt="Unstop home banner 2"
                    width="750"
                    height="365"
                  />
                </span>
              </div> -->
            </div>
            <div class="owl-dots custom-dots"></div>
          </div>
        </div>
      </section>
      <!-- Banner-end -->


      <!--  Card list out -start-->
      <section id="discount-container" class="discount-list flex sm:flex-col md:flex-row lg:flex-row xl:flex-row 2xl:flex-row"></section>

        <!--  Card list out -end-->
    </main>

    <!-- JAVASCRIPT SECTION -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js"></script>
    <!-- <script>
      $(document).ready(function () {
        $(".owl-carousel").owlCarousel({
          loop: true,
          margin: 10,
          nav: true,
          autoplay: true,
          autoplayTimeout: 3500,
          responsive: {
            0: {
              items: 1,
            },
            600: {
              items: 2,
            },
            1000: {
              items: 2,
            },
          },
          dotsContainer: ".custom-dots",
          dotClass: "custom-dot",
          dotsClass: "owl-dots",
        });
      });
    </script> -->



<script>
  async function fetchDiscounts() {
  try {
    const response = await fetch('https://api.studentdiscountteam.workers.dev/discounts');
    const discounts = await response.json();
    console.log(discounts); // Log the data to check structure

    const container = document.querySelector('#discount-container'); // Ensure this ID exists in your HTML.

    container.innerHTML = discounts
      .map(
        (item) => {
          // Get the discount percentage and display it conditionally
          const discountPercentage = item.discountpercentage;
          const discountText = discountPercentage
            ? `${discountPercentage}% Off`
            : 'No Discount Available';

          // Generate HTML for each discount
          return `
            <div class="discount-card">
              <img src="${item.imageurl}" alt="${item.companyname}" class="discount-image" />
              <h3>${item.companyname}</h3>
              <p>${discountText}</p> <!-- Display the formatted discount text -->
              <p>${item.discountpara}</p>
              <a href="${item.link}" class="discount-link" target="_blank">Claim Now</a>
            </div>
          `;
        }
      )
      .join('');
  } catch (error) {
    console.error('Error fetching discounts:', error);
  }
}


async function fetchBanners() {
  try {
    const response = await fetch('https://api.studentdiscountteam.workers.dev/banner');
    const banners = await response.json();

    const container = document.querySelector('.owl-carousel'); // Ensure this class exists in your HTML.

    container.innerHTML = banners
      .map(
        (item) => `
        <div class="item px-2">
          <a href="${item.websitelink}" target="_blank">
            <img src="${item.imgurl}" alt="Banner" class="rounded-md" />
          </a>
        </div>
      `
      )
      .join('');

    // Reinitialize OwlCarousel after dynamically adding banners
    $(".owl-carousel").owlCarousel({
      loop: true,
      ma  rgin: 10,
      nav: true,
      autoplay: true,
      autoplayTimeout: 3500,
      responsive: {
        0: { items: 1 },
        600: { items: 2 },
        1000: { items: 2 },
      },
    });
  } catch (error) {
    console.error('Error fetching banners:', error);
  }
}

</script>
 <script>
  document.addEventListener('DOMContentLoaded', () => {
  fetchDiscounts();
  fetchBanners();
});

 </script>

  </body>
</html>
